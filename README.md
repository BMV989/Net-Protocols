# Net-Protocols
Задачи по курсу "Протоколы Интернет" aka "Сети 2".
Для того чтобы установить зависимости
```sh
pip install -r requirements.txt
```

# Задача 1
**Формулировка задачи:** 

На вход утилиты ipv4/доменное имя. Делает трассировку до этого хоста, в том смысле, что описывает списком через какие автономные системы проходит.

**Особенности работы скрипта**:

1. **Запуск утилиты требует sudo поскольку трассировка использует сокеты.**
2. **Адреса, по которым нет AS - нет информации у регистраторов об их AS.**
## Пример
```sh
sudo python3 tracer.py google.com
```
## Пример вывода
```
+-----------------+---------+---------+--------------------------------+
|        IP       |    AS   | Country |          Description           |
+-----------------+---------+---------+--------------------------------+
|     10.8.0.1    |         |         |                                |
|   172.29.172.1  |         |         |                                |
|    64.7.198.1   |         |         |                                |
|  93.114.40.185  |  AS3223 |    RO   |            Voxility            |
|  109.163.235.49 |  AS3223 |    RO   |          Voxility SRL          |
| 109.163.235.158 |  AS3223 |    RO   |          Voxility SRL          |
|  86.104.125.176 | AS39107 |    RO   | Interlan Internet Exchange SRL |
|  172.253.71.106 | AS15169 |    US   |           Google LLC           |
|  192.178.105.16 | AS15169 |    US   |           Google LLC           |
|  142.250.57.161 | AS15169 |    US   |           Google LLC           |
| 108.170.237.220 | AS15169 |    US   |           Google LLC           |
|  192.178.107.91 | AS15169 |    US   |           Google LLC           |
|  209.85.243.245 |         |         |                                |
| 142.250.187.174 | AS15169 |    US   |           Google LLC           |
+-----------------+---------+---------+--------------------------------+
```

## Задача 2
**Формулировка задачи:**

Сервер прослушивает 53 порт. При первом запуске кэш пустой.
Сервер получает от клиента рекурсивный запрос и выполняет
разрешение запроса. Получив ответ, сервер разбирает пакет ответа, извлекает из него ВСЮ (в том
числе из полей Authority и Additional) полезную информацию, т. е. все ресурсные записи, а не
только то, о чем спрашивал клиент. Полученная информация сохраняется в кэше сервера.
Например, это может быть два хэш-массива.
Сервер регулярно просматривает кэш и удаляет просроченные записи (использует поле TTL).

**Особенности работы скрипта**:

* Требует прав суперпользователя, при использовании зарезервированных портов (например 53, который устанавливается по умолчанию).

**Переменные окружения, которые могут быть использованы для конфигурации сервера**:

* PORT - отвечает за порт работы сервера (по умолчанию 53 порт)
* CACHE - отвечает за имя файла для сериализации и десериализации кеша (по умолчанию cache.json)
* FORWARDER - отвечает за IP forward сервера, для разрешения днс запросов
## Пример
```sh
sudo python3 dns_server.py
```
## Задача 3

Формулировка задачи:

SMTP клиент. На сервера mail, yandex, rambler письма с вложениями должны доходить и быть читабельными.
Для работы клиенту нужен json и .env
```json
{
  "subject": "<Тема>",
  "body": "<Тело>",

  "receivers": [
    "<Список получателей>"
  ],

  "attachments": [
   "<Cписок путей до закрепленных файлов>"
  ]
}
```
```env
MAIL = "<Пусть до json письма>"
LOGIN = "<Логин без домена>"
PASSWORD = "<Пароль>"
HOST_ADDRESS = "smtp.yandex.ru."
PORT = "465"
```


**Переменные окружения, которые могут быть использованы для конфигурации клиента**:

* LOGIN - логин пользователя
* PASSWORD - пароль пользователя
* HOST_ADDRESS - доменное имя или IP-адрес SMTP сервера
* PORT - порт, по которому происходит подключение к серверу

## Пример
```sh
sudo python3 smtp_client.py
```
